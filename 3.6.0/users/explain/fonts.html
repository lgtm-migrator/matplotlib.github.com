
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Fonts in Matplotlib &#8212; Matplotlib 3.6.0rc1 documentation</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/style.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mpl.css?v3.6.0rc1-4-gf7130cd5c7" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script async="async" src="https://www.google-analytics.com/analytics.js"></script>
    <script>
                window.ga = window.ga || function () {
                    (ga.q = ga.q || []).push(arguments) };
                ga.l = +new Date;
                ga('create', 'UA-55954603-1', 'auto');
                ga('set', 'anonymizeIp', true);
                ga('send', 'pageview');
            </script>
    <link rel="canonical" href="https://matplotlib.org/stable/users/explain/fonts.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.6.0rc1 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Event handling and picking" href="event_handling.html" />
    <link rel="prev" title="Interactive figures" href="interactive.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../../_static/logo2.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        
<ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../tutorials/index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../index.html">User guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../devel/index.html">Develop</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../release_notes.html">Release notes</a>
  </li>
</ul>

      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        devdocs  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables users/explain/fonts and {'json_url': 'https://matplotlib.org/devdocs/_static/switcher.json', 'version_match': 'devdocs'}.
-->

<script type="text/javascript">
// Check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "users/explain/fonts.html",
          tryUrl = event.target.getAttribute("href");
    let otherDocsHomepage = tryUrl.replace(currentFilePath, "");
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
}

// Populate the version switcher from the JSON config file
(function () {
    $.getJSON("https://matplotlib.org/devdocs/_static/switcher.json", function(data, textStatus, jqXHR) {
        const currentFilePath = "users/explain/fonts.html";
        let btn = document.getElementById("version_switcher_button");
        // Set empty strings by default so that these attributes exist and can be used in CSS selectors
        btn.dataset["activeVersionName"] = "";
        btn.dataset["activeVersion"] = "";
        // create links to the corresponding page in the other docs versions
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // create the node
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.textContent = `${entry.name}`;
            node.setAttribute("href", `${entry.url}${currentFilePath}`);
            // on click, AJAX calls will check if the linked page exists before
            // trying to redirect, and if not, will redirect to the homepage
            // for that version of the docs.
            node.onclick = checkPageExistsAndRedirect;
            // Add dataset values for the version and name in case people want
            // to apply CSS styling based on this information.
            node.dataset["versionName"] = entry.name;
            node.dataset["version"] = entry.version;

            $("#version_switcher_menu").append(node);
            // replace dropdown button text with the preferred display name of
            // this version, rather than using sphinx's 3.6.0rc1 variable.
            // also highlight the dropdown entry for the currently-viewed
            // version's entry
            if (entry.version == "devdocs") {
                node.classList.add("active");
                btn.innerText = btn.dataset["activeVersionName"] = entry.name;
                btn.dataset["activeVersion"] = entry.version;
            }
        });
    });
})();
</script>
      </div>
      
      <div class="navbar-end-item">
        
      <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://gitter.im/matplotlib" rel="noopener" target="_blank" title="gitter">
            <span><i class="fab fa-gitter"></i></span>
            <label class="sr-only">gitter</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://discourse.matplotlib.org" rel="noopener" target="_blank" title="discourse">
            <span><i class="fab fa-discourse"></i></span>
            <label class="sr-only">discourse</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/matplotlib/matplotlib" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/matplotlib/" rel="noopener" target="_blank" title="twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="api_interfaces.html">
   Matplotlib Application Interfaces (APIs)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="backends.html">
   Backends
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="interactive.html">
   Interactive figures
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="simple">
  </ul>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Fonts in Matplotlib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="event_handling.html">
   Event handling and picking
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="performance.html">
   Performance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="interactive_guide.html">
   Interactive figures and asynchronous programming
  </a>
 </li>
</ul>

  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fonts-in-pdf-and-postscript">
   Fonts in PDF and PostScript
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#font-subsetting">
     Font Subsetting
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#core-fonts">
     Core Fonts
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fonts-in-svg">
   Fonts in SVG
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fonts-in-agg">
   Fonts in Agg
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-matplotlib-selects-fonts">
   How Matplotlib selects fonts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#font-fallback">
   Font Fallback
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="fonts-in-matplotlib">
<h1>Fonts in Matplotlib<a class="headerlink" href="#fonts-in-matplotlib" title="Permalink to this heading">#</a></h1>
<p>Matplotlib needs fonts to work with its text engine, some of which are shipped
alongside the installation.  The default font is <a class="reference external" href="https://dejavu-fonts.github.io">DejaVu Sans</a> which covers most European writing systems.
However, users can configure the default fonts, and provide their own custom
fonts.  See <a class="reference internal" href="../../tutorials/text/text_props.html"><span class="doc">Customizing text properties</span></a> for
details and <a class="reference internal" href="../../tutorials/text/text_props.html#font-nonlatin"><span class="std std-ref">Text with non-latin glyphs</span></a> in particular for glyphs not supported by
DejaVu Sans.</p>
<p>Matplotlib also provides an option to offload text rendering to a TeX engine
(<code class="docutils literal notranslate"><span class="pre">usetex=True</span></code>), see <a class="reference internal" href="../../tutorials/text/usetex.html"><span class="doc">Text rendering with LaTeX</span></a>.</p>
<section id="fonts-in-pdf-and-postscript">
<h2>Fonts in PDF and PostScript<a class="headerlink" href="#fonts-in-pdf-and-postscript" title="Permalink to this heading">#</a></h2>
<p>Fonts have a long (and sometimes incompatible) history in computing, leading to
different platforms supporting different types of fonts.  In practice, there
are 3 types of font specifications Matplotlib supports (in addition to 'core
fonts' in pdf which is explained later in the guide):</p>
<table class="table" id="id2">
<caption><span class="caption-text">Type of Fonts</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type 1 (PDF)</p></th>
<th class="head"><p>Type 3 (PDF/PS)</p></th>
<th class="head"><p>TrueType (PDF)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>One of the oldest types, introduced by Adobe</p></td>
<td><p>Similar to Type 1 in terms of introduction</p></td>
<td><p>Newer than previous types, used commonly today, introduced by Apple</p></td>
</tr>
<tr class="row-odd"><td><p>Restricted subset of PostScript, charstrings are in bytecode</p></td>
<td><p>Full PostScript language, allows embedding arbitrary code
(in theory, even render fractals when rasterizing!)</p></td>
<td><p>Include a virtual machine that can execute code!</p></td>
</tr>
<tr class="row-even"><td><p>These fonts support font hinting</p></td>
<td><p>Do not support font hinting</p></td>
<td><p>Hinting supported (virtual machine processes the &quot;hints&quot;)</p></td>
</tr>
<tr class="row-odd"><td><p>Non-subsetted through Matplotlib</p></td>
<td><p>Subsetted via external module <a class="reference external" href="https://github.com/sandflow/ttconv">ttconv</a></p></td>
<td><p>Subsetted via external module <a class="reference external" href="https://github.com/fonttools/fonttools">fonttools</a></p></td>
</tr>
</tbody>
</table>
<p>NOTE: Adobe will disable support for authoring with Type 1 fonts in
January 2023. <a class="reference external" href="https://helpx.adobe.com/fonts/kb/postscript-type-1-fonts-end-of-support.html">Read more here.</a></p>
<p>Other font specifications which Matplotlib supports:</p>
<ul class="simple">
<li><p>Type 42 fonts (PS):</p>
<ul>
<li><p>PostScript wrapper around TrueType fonts</p></li>
<li><p>42 is the <a class="reference external" href="https://en.wikipedia.org/wiki/Answer_to_Life,_the_Universe,_and_Everything">Answer to Life, the Universe, and Everything!</a></p></li>
<li><p>Matplotlib uses an external library called <a class="reference external" href="https://github.com/fonttools/fonttools">fonttools</a>
to subset these types of fonts</p></li>
</ul>
</li>
<li><p>OpenType fonts:</p>
<ul>
<li><p>OpenType is a new standard for digital type fonts, developed jointly by
Adobe and Microsoft</p></li>
<li><p>Generally contain a much larger character set!</p></li>
<li><p>Limited Support with Matplotlib</p></li>
</ul>
</li>
</ul>
<section id="font-subsetting">
<h3>Font Subsetting<a class="headerlink" href="#font-subsetting" title="Permalink to this heading">#</a></h3>
<p>The PDF and PostScript formats support embedding fonts in files allowing the
display program to correctly render the text, independent of what fonts are
installed on the viewer's computer and without the need to pre-rasterize the text.
This ensures that if the output is zoomed or resized the text does not become
pixelated.  However, embedding full fonts in the file can lead to large output
files, particularly with fonts with many glyphs such as those that support CJK
(Chinese/Japanese/Korean).</p>
<p>The solution to this problem is to subset the fonts used in the document and
only embed the glyphs actually used.  This gets both vector text and small
files sizes.  Computing the subset of the font required and writing the new
(reduced) font are both complex problem and thus Matplotlib relies on
<a class="reference external" href="https://fonttools.readthedocs.io/en/latest/">fontTools</a> and a vendored fork
of <a class="reference external" href="https://github.com/sandflow/ttconv">ttconv</a>.</p>
<p>Currently Type 3, Type 42, and TrueType fonts are subseted.  Type 1 fonts are not.</p>
</section>
<section id="core-fonts">
<h3>Core Fonts<a class="headerlink" href="#core-fonts" title="Permalink to this heading">#</a></h3>
<p>In addition to the ability to embed fonts, as part of the <a class="reference external" href="https://en.wikipedia.org/wiki/PostScript_fonts#Core_Font_Set">PostScript</a> and <a class="reference external" href="https://docs.oracle.com/cd/E96927_01/TSG/FAQ/What%20are%20the%2014%20base%20fonts%20distributed%20with%20Acroba.html">PDF
specification</a>
there are 14 Core Font that compliant viewers must ensure are available.  If
you restrict your document to only these fonts you do not have to embed any
font information in the document but still get vector text.</p>
<p>This is especially helpful to generate <em>really lightweight</em> documents.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># trigger core fonts for PDF backend</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;pdf.use14corefonts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># trigger core fonts for PS backend</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;ps.useafm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">chars</span> <span class="o">=</span> <span class="s2">&quot;AFM ftw!&quot;</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">chars</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;AFM_PDF.pdf&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;pdf&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;AFM_PS.ps&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ps)</span>
</pre></div>
</div>
</section>
</section>
<section id="fonts-in-svg">
<h2>Fonts in SVG<a class="headerlink" href="#fonts-in-svg" title="Permalink to this heading">#</a></h2>
<p>Text can output to SVG in two ways controlled by <code class="docutils literal notranslate"><a class="reference internal" href="../../tutorials/introductory/customizing.html?highlight=svg.fonttype#matplotlibrc-sample"><span class="std std-ref"><span class="pre">rcParam[&quot;svg.fonttype&quot;]</span></span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">'path'</span></code>):</p>
<ul class="simple">
<li><p>as a path (<code class="docutils literal notranslate"><span class="pre">'path'</span></code>) in the SVG</p></li>
<li><p>as string in the SVG with font styling on the element (<code class="docutils literal notranslate"><span class="pre">'none'</span></code>)</p></li>
</ul>
<p>When saving via <code class="docutils literal notranslate"><span class="pre">'path'</span></code> Matplotlib will compute the path of the glyphs used
as vector paths and write those to the output.  The advantage of this is that
the SVG will look the same on all computers independent of what fonts are
installed.  However the text will not be editable after the fact.
In contrast saving with <code class="docutils literal notranslate"><span class="pre">'none'</span></code> will result in smaller files and the
text will appear directly in the markup.  However, the appearance may vary
based on the SVG viewer and what fonts are available.</p>
</section>
<section id="fonts-in-agg">
<h2>Fonts in Agg<a class="headerlink" href="#fonts-in-agg" title="Permalink to this heading">#</a></h2>
<p>To output text to raster formats via Agg, Matplotlib relies on <a class="reference external" href="https://www.freetype.org/">FreeType</a>.  Because the exact rendering of the glyphs
changes between FreeType versions we pin to a specific version for our image
comparison tests.</p>
</section>
<section id="how-matplotlib-selects-fonts">
<h2>How Matplotlib selects fonts<a class="headerlink" href="#how-matplotlib-selects-fonts" title="Permalink to this heading">#</a></h2>
<p>Internally using a Font in Matplotlib is a three step process:</p>
<ol class="arabic simple">
<li><p>a <a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.FontProperties" title="matplotlib.font_manager.FontProperties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FontProperties</span></code></a> object is created (explicitly or implicitly)</p></li>
<li><p>based on the <a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.FontProperties" title="matplotlib.font_manager.FontProperties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FontProperties</span></code></a> object the methods on <a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.FontManager" title="matplotlib.font_manager.FontManager"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FontManager</span></code></a> are used
to select the closest &quot;best&quot; font Matplotlib is aware of (except for
<code class="docutils literal notranslate"><span class="pre">'none'</span></code> mode of SVG).</p></li>
<li><p>the Python proxy for the font object is used by the backend code to render
the text -- the exact details depend on the backend via <a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.get_font" title="matplotlib.font_manager.get_font"><code class="xref py py-obj docutils literal notranslate"><span class="pre">font_manager.get_font</span></code></a>.</p></li>
</ol>
<p>The algorithm to select the &quot;best&quot; font is a modified version of the algorithm
specified by the <a class="reference external" href="http://www.w3.org/TR/1998/REC-CSS2-19980512/">CSS1 Specifications</a> which is used by web browsers.
This algorithm takes into account the font family name (e.g. &quot;Arial&quot;, &quot;Noto
Sans CJK&quot;, &quot;Hack&quot;, ...), the size, style, and weight.  In addition to family
names that map directly to fonts there are five &quot;generic font family names&quot; (
serif, monospace, fantasy, cursive, and sans-serif) that will internally be
mapped to any one of a set of fonts.</p>
<p>Currently the public API for doing step 2 is <a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.FontManager.findfont" title="matplotlib.font_manager.FontManager.findfont"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FontManager.findfont</span></code></a> (and that
method on the global <a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.FontManager" title="matplotlib.font_manager.FontManager"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FontManager</span></code></a> instance is aliased at the module level as
<a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.findfont" title="matplotlib.font_manager.findfont"><code class="xref py py-obj docutils literal notranslate"><span class="pre">font_manager.findfont</span></code></a>), which will only find a single font and return the absolute
path to the font on the filesystem.</p>
</section>
<section id="font-fallback">
<h2>Font Fallback<a class="headerlink" href="#font-fallback" title="Permalink to this heading">#</a></h2>
<p>There is no font that covers the entire Unicode space thus it is possible for the
users to require a mix of glyphs that can not be satisfied from a single font.
While it has been possible to use multiple fonts within a Figure, on distinct
<a class="reference internal" href="../../api/text_api.html#matplotlib.text.Text" title="matplotlib.text.Text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Text</span></code></a> instances, it was not previous possible to use multiple fonts in the
same <a class="reference internal" href="../../api/text_api.html#matplotlib.text.Text" title="matplotlib.text.Text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Text</span></code></a> instance (as a web browser does).  As of Matplotlib 3.6 the Agg,
SVG, PDF, and PS backends will &quot;fallback&quot; through multiple fonts in a single
<a class="reference internal" href="../../api/text_api.html#matplotlib.text.Text" title="matplotlib.text.Text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Text</span></code></a> instance:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
    <span class="mf">.5</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="s2">&quot;There are 几个汉字 in between!&quot;</span><span class="p">,</span>
    <span class="n">family</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;DejaVu Sans&#39;</span><span class="p">,</span> <span class="s1">&#39;WenQuanYi Zen Hei&#39;</span><span class="p">],</span>
    <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../../users/explain/fonts-1.py">Source code</a>, <a class="reference external" href="../../users/explain/fonts-1.png">png</a>)</p>
<figure class="align-default" id="id3">
<img alt="../../_images/fonts-1.png" class="plot-directive" src="../../_images/fonts-1.png" />
<figcaption>
<p><span class="caption-text">The string &quot;There are 几个汉字 in between!&quot; rendered with 2 fonts.</span><a class="headerlink" href="#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Internally this is implemented by setting The &quot;font family&quot; on
<a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.FontProperties" title="matplotlib.font_manager.FontProperties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FontProperties</span></code></a> objects to a list of font families.  A (currently)
private API extracts a list of paths to all of the fonts found and then
constructs a single <a class="reference internal" href="../../api/ft2font.html#matplotlib.ft2font.FT2Font" title="matplotlib.ft2font.FT2Font"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ft2font.FT2Font</span></code></a> object that is aware of all of the fonts.
Each glyph of the string is rendered using the first font in the list that
contains that glyph.</p>
<p>A majority of this work was done by Aitik Gupta supported by Google Summer of
Code 2021.</p>
</section>
</section>


              </article>
              

              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2002–2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012–2022 The Matplotlib development team.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.1.1.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>